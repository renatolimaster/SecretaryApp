<div class="container mt-3">
  <div class="row">
    <h2>{{title}}</h2>
    <div class="col-xs-12 col-md-12">
      &nbsp;
    </div>
  </div>
</div>
<div class="container">
  <div class="row">
    <div class="col-xs-12 col-md-12 mt-3">
      <h4 class="text-primary">Congregation's Report</h4>
      <hr>
    </div>
  </div>
</div>
<br />

<div class="container">
  <div class="card-body">
    <form #myForm="ngForm" class="form-control-inline my-2 my-lg-0" (ngSubmit)="loadReportsFromPeriod(myForm.value)">
      <div class='row'>
        <div class="col-sm-4">
          <h5 class="card-text">Month</h5>
          <input [(ngModel)]="date.fromDate" type="text" class="form-control mr-sm-2" bsDatepicker [bsValue]="date?.fromDate"
            [bsConfig]="{ dateInputFormat: 'MM/YYYY'}" name="fromDate" id="fromDate" required>
        </div>

        <div class="col-sm-4">
          <h5 class="card-text">Order by</h5>
          <input [(ngModel)]="date.check" type="checkbox" class="form-check-input " name="check" id="check">
          <label class="form-check-label" for="groupCheck">Group</label>&nbsp; &nbsp;          
        </div>

        <div class="col-sm-4">
          <h5 class="card-text">&nbsp;</h5>          
          <button type="submit" class="btn btn-success custombutton" [disabled]="!myForm.dirty"><i class="fa fa-filter"></i>
            Filter</button> &nbsp; &nbsp;
          <button type="button" class="btn btn-danger" (click)="generatePdf()"><i class="fa fa-file-pdf-o"></i> PDf</button>
        </div>

      </div>

    </form>

  </div>

</div>



<div class="container">

  <div class="card mt-6">

    <div class="panel panel-default">
      <!-- Default panel contents -->
      <div class="panel-heading">
        <h3 class="text-primary text-center"> {{ title }}</h3>
      </div>
      <div class="panel-body">
        <h5 class="text-success text-center"> {{ counterTotal }} delivered of {{ totalPublisher }}
          publishers</h5>
        <h6 class="text-info text-center"> {{ date.fromDate | date:'MMM/yyyy' }} </h6>
      </div>

      <!-- Table nova -->
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Pioneer</th>
            <th scope="col">Colocations</th>
            <th scope="col">Video</th>
            <th scope="col">Hours</th>
            <th scope="col">Bethel</th>
            <th scope="col">Credit</th>
            <th scope="col">Returns</th>
            <th scope="col">Studies</th>
            <th scope="col">Obs</th>
            <th scope="col">Status</th>
            <th scope="col">Group</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of reportLine">
            <td *ngIf="item.Name === 'Total' || item.Name === 'Geral'" class="text-center text-primary ">
              <h4><strong>{{ item.Name }}({{item.Counter}})</strong></h4>
            </td>
            <td *ngIf="item.Name !== 'Total' && item.Name !== 'Geral'">{{ item.Name }}</td>
            <td>{{ item.Pioneer }}</td>
            <td class="text-center">{{ item.Colocations }}</td>
            <td class="text-center">{{ item.Video }}</td>
            <td *ngIf="item.Hours > 7" class="text-center text-primary "><strong>{{ item.Hours }}</strong></td>
            <td *ngIf="item.Hours <= 6" class="text-center text-danger "><strong>{{ item.Hours }}</strong></td>
            <td class="text-center text-info "><strong>{{ item.Bethel }}</strong></td>
            <td class="text-center text-info "><strong>{{ item.Credit }}</strong></td>
            <td class="text-center">{{ item.Returns }}</td>
            <td class="text-center">{{ item.Studies }}</td>
            <td class="text-center small">{{ item.Obs }}</td>
            <td class="text-center">{{ item.Status }}</td>
            <td class="text-center">{{ item.Group }}</td>
          </tr>
        </tbody>
      </table>
      <!-- Fim Table nova -->

    </div>
  </div>
</div>

<div class="container">

  <div class="card mt-6">

    <div class="panel panel-default">
      <!-- Default panel contents -->
      <div class="panel-heading">
        <br>
        <h3 class="text-primary text-center">Total of {{ title }}</h3>
      </div>
      <div class="panel-body">
        <h5 class="text-success text-center"> {{ counterTotal }} delivered of {{ totalPublisher }}
          publishers </h5>
      </div>


      <!-- Table Nova -->
      <table class="table">
        <thead>
          <tr>
            <th class="text-center text-primary" scope="col">Pioneer</th>
            <th class="text-center text-primary" scope="col">Colocations</th>

            <th class="text-center text-danger" scope="col">Hours</th>
            <th class="text-center text-primary" scope="col">Returns</th>
            <th class="text-center text-primary" scope="col">Studies</th>

          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of reportLineGeral">
              <td *ngIf="item.Pioneer === 'Geral'" class="text-center text-danger"><h4><strong>{{ item.Pioneer }} ({{ item.Counter }})</strong></h4></td>
              <td *ngIf="item.Pioneer !== 'Geral'" class="text-center text-info">{{ item.Pioneer }} ({{ item.Counter }})</td>
              <td class="text-center">{{ item.Colocations }}</td>
              <td class="text-center text-danger">{{ item.Hours }}</td>
              <td class="text-center">{{ item.Returns }}</td>
              <td class="text-center">{{ item.Studies }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>